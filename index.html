<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Multiplication Table Generator (Range + Even Highlight)</title>
  <style>
    :root {
      --blue: #1976d2;
      --blue-bg: #e8f2ff;
      --grid: #e5e7eb;
      --text: #1f2937;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: #fafafa;
    }
    header {
      padding: 16px 20px;
      background: white;
      border-bottom: 1px solid #eee;
    }
    header h1 {
      margin: 0 0 4px;
      font-size: 20px;
    }
    header p {
      margin: 0;
      color: #4b5563;
      font-size: 14px;
    }
    .container {
      padding: 16px 20px 24px;
      max-width: 1100px;
      margin: 0 auto;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 12px 16px;
      align-items: flex-end;
      background: white;
      border: 1px solid #eee;
      border-radius: 10px;
      padding: 12px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.03);
    }
    .control {
      display: grid;
      gap: 6px;
    }
    .control label {
      font-size: 12px;
      color: #374151;
    }
    input[type="number"] {
      width: 120px;
      padding: 8px 10px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 14px;
    }
    button {
      padding: 9px 14px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background: #111827;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .legend {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 12px 0 8px;
      font-size: 13px;
      color: #4b5563;
    }
    .dot {
      width: 12px;
      height: 12px;
      border-radius: 3px;
      background: var(--blue);
    }

    .table-wrap {
      overflow: auto;
      background: white;
      border: 1px solid #eee;
      border-radius: 10px;
      margin-top: 8px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.03);
    }
    table {
      border-collapse: separate;
      border-spacing: 0;
      width: max-content;
      min-width: 100%;
      font-variant-numeric: tabular-nums;
    }
    th, td {
      padding: 8px 10px;
      border-right: 1px solid var(--grid);
      border-bottom: 1px solid var(--grid);
      white-space: nowrap;
      text-align: right;
      font-size: 14px;
    }
    thead th {
      position: sticky;
      top: 0;
      background: #f9fafb;
      z-index: 1;
      text-align: center;
      font-weight: 600;
    }
    tbody th {
      position: sticky;
      left: 0;
      background: #f9fafb;
      text-align: center;
      font-weight: 600;
      z-index: 1;
    }
    thead th:first-child {
      left: 0;
      z-index: 2;
    }
    tr:first-child th, tr:first-child td {
      border-top: 0;
    }
    th:first-child, td:first-child {
      border-left: 0;
    }
    .even {
      color: var(--blue);
      background: var(--blue-bg);
      font-weight: 600;
    }
    .msg {
      margin-left: auto;
      font-size: 13px;
      color: #6b7280;
    }
    .error {
      color: #b91c1c;
      font-weight: 600;
    }
    @media (max-width: 520px) {
      input[type="number"] { width: 100px; }
      button { width: 100%; }
      .controls { gap: 10px; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Multiplication Table Generator</h1>
    <p>Choose a range (e.g., 1–20). Even results are highlighted in blue.</p>
  </header>

  <div class="container">
    <form class="controls" id="form" onsubmit="event.preventDefault(); generate();">
      <div class="control">
        <label for="start">From</label>
        <input id="start" type="number" min="1" max="200" value="1" required />
      </div>
      <div class="control">
        <label for="end">To</label>
        <input id="end" type="number" min="1" max="200" value="10" required />
      </div>
      <button id="btn" type="submit">Generate</button>
      <div class="msg" id="msg" aria-live="polite"></div>
    </form>

    <div class="legend"><span class="dot"></span> Even results</div>

    <div class="table-wrap" id="tableWrap" tabindex="0" aria-label="Multiplication table container">
      <table id="table" aria-live="polite"></table>
    </div>
  </div>

  <script>
    const startEl = document.getElementById('start');
    const endEl = document.getElementById('end');
    const tableEl = document.getElementById('table');
    const msgEl = document.getElementById('msg');

    function clamp(n, min, max) {
      return Math.max(min, Math.min(max, n));
    }

    function generate() {
      let a = parseInt(startEl.value, 10);
      let b = parseInt(endEl.value, 10);

      if (Number.isNaN(a) || Number.isNaN(b)) return;

      a = clamp(a, 1, 200);
      b = clamp(b, 1, 200);

      const from = Math.min(a, b);
      const to = Math.max(a, b);

      // Update any message on normalization
      msgEl.textContent = a === b ? `Single value range: ${from}` :
                          (a > b ? `Note: Range normalized to ${from}–${to}` : '');

      renderTable(from, to);
    }

    function renderTable(from, to) {
      const cols = to - from + 1;
      const rows = cols;

      const thead = document.createElement('thead');
      const headRow = document.createElement('tr');

      // Top-left corner cell
      const corner = document.createElement('th');
      corner.textContent = '×';
      corner.style.textAlign = 'center';
      headRow.appendChild(corner);

      // Column headers
      for (let c = from; c <= to; c++) {
        const th = document.createElement('th');
        th.textContent = c;
        headRow.appendChild(th);
      }
      thead.appendChild(headRow);

      // Body
      const tbody = document.createElement('tbody');
      for (let r = from; r <= to; r++) {
        const tr = document.createElement('tr');

        // Row header
        const rowHead = document.createElement('th');
        rowHead.textContent = r;
        tr.appendChild(rowHead);

        for (let c = from; c <= to; c++) {
          const td = document.createElement('td');
          const val = r * c;
          td.textContent = val;
          if (val % 2 === 0) td.classList.add('even');
          tr.appendChild(td);
        }
        tbody.appendChild(tr);
      }

      // Swap in one operation for performance
      tableEl.replaceChildren(thead, tbody);
    }

    // Auto-generate as the user types
    startEl.addEventListener('input', generate);
    endEl.addEventListener('input', generate);

    // Initial render
    generate();
  </script>
</body>
</html>